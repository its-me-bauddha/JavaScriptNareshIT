<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Arrays - Methods</title>
    <link
      rel="stylesheet"
      href="./node_modules/bootstrap/dist/css/bootstrap.css"
    />
    <link
      rel="stylesheet"
      href="./node_modules/bootstrap-icons/font/bootstrap-icons.css"
    />
    <script>
      var Cities = ["Delhi", "Mumbai", "Kanpur", "Nagpur"];

      function LoadCities() {
        document.getElementById("lstCities").innerHTML = "";
        for (var city of Cities) {
          var option = document.createElement("option");
          option.text = city;
          option.value = city;
          document.getElementById("lstCities").appendChild(option);
        }
        document.getElementById(
          "lblCount"
        ).innerHTML = `Total Number Of Cities Are : ${Cities.length}`;
      }

      function bodyLoad() {
        LoadCities();
      }

      function AddClick() {
        var cityName = document.getElementById("txtCity").value;
        if (Cities.indexOf(cityName) == -1) {
          Cities.push(cityName);
          alert(`${cityName} added to the list`);
          document.getElementById("txtCity").value = "";
          Cities.sort();
          LoadCities();
        } else {
          alert(`${cityName} exits`);
        }
      }

      function RemoveClick() {
        var selectedCityName = document.getElementById("lstCities").value;
        var selectedIndex = Cities.indexOf(selectedCityName);
        var flag = confirm(
          `Delete ${selectedCityName}\nAre you sure want to delete ?`
        );
        if (flag == true) {
          Cities.splice(selectedCityName, 1);
          LoadCities();
        }
      }

      function ClearClick() {
        Cities.length = 0;
        //document.getElementById("lstCities").innerHTML="";
        LoadCities();
      }

      function SortAsc() {
        Cities.sort();
        LoadCities();
      }
      function SortDsc() {
        Cities.sort();
        Cities.reverse();
        LoadCities();
      }
    </script>
  </head>
  <body class="container-fluid" onload="bodyLoad()">
    <h2>Array Manipulation</h2>
    <div class="mt-3 mb-3 w-25">
      <div class="input-group">
        <span class="input-group-text">New City : </span>
        <input type="text" id="txtCity" class="form-control" />
        <button onclick="AddClick()" class="btn btn-primary">Add</button>
      </div>
    </div>
    <div class="w-25">
      <label class="form-label">Your Cities </label>
      <div>
        <div class="mt-2 mb-2">
          <button class="btn btn-success" onclick="SortAsc()">
            <span class="bi bi-sort-alpha-down"></span>
          </button>
          <button class="btn btn-success" onclick="SortDsc()">
            <span class="bi bi-sort-alpha-up"></span>
          </button>
        </div>
        <select class="form-select" size="3" multiple id="lstCities"></select>
        <label class="form-label" id="lblCount"></label>
      </div>

      <div class="mt-3">
        <button class="btn btn-danger" onclick="RemoveClick()">
          <span class="bi bi bi-trash-fill"></span>Remove City
        </button>
        <button class="btn btn-danger" onclick="ClearClick()">Clear All</button>
      </div>
    </div>
  </body>
</html>
